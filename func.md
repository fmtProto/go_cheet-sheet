## `Функции`
В Go функции являются объектами первого класса.


```go
// формат объявления
func func_name(input_params) return_values{
    //body function
}

// пример объявления
func sum(a int, b int) int {
	return a + b
}

// пример вызова
res := sum(1, 4) 
fmt.Println(res) // 5
```
Тип однотипных аргументов может быть указан 1 раз.
```go
func sum(a, b int) int {
    return a + b
}
```
Возвращаемых значений может быть больше чем 1, тогда они указываются в скобках `()`.
```go
func sum_avg(a, b float32) (float32, float32) {
    sum := a + b
    avg := (a + b) / 2
    return sum, avg
}
```
Функция go может иметь именованные возвращаемые значения. При использовании именованных возвращаемых значений возвращаемые значения не нужно инициализировать в функции. 
```go
func sum_avg(a, b float32) (sum, avg float32) {
    sum = a + b
    avg = (a + b) / 2
    return sum, avg
}
```

В Go функция также является типом. Две функции будут одного типа, если:
- У них одинаковое количество аргументов, причем каждый аргумент имеет один и тот же тип. 
- У них одинаковое количество возвращаемых значений, и каждое возвращаемое значение имеет один и тот же тип. 
    
Функция как определяемый пользователем тип может быть объявлена с помощью ключевого слова `type`.
```go
type sum func(int, int) int
```
Анонимные функции называется так, потому что функция не имеет имени и может быть назначена переменной и передана. 
Как правило, они создаются для краткосрочного использования или для ограниченной функциональности. 
```go
func main() {
    fmt.Println(sum(1, 5)) // 6
}

var sum = func(a, b int) int {
    return a + b
}
```

Замыкания функций - это не что иное, как анонимная функция, которая может обращаться к переменным, объявленным вне функции, а также сохранять текущее значение между различными вызовами функции.
```go
func main() {
    next := increment()

    fmt.Println(next()) // 1
    fmt.Println(next()) // 2
    fmt.Println(next()) // 3
}

func increment() func() int {
    i := 0
    return func() int {
        i++
        return i
    }
}
```

Функция с немедленным вызовом - это функции, которые могут быть определены и выполнены одновременно.
```go
func(a, b int) {
    fmt.Println(a + b)
}(1, 3) // 4
```

В Go функция, которая может принимать динамическое количество аргументов, называется вариативной функцией. Ниже приведен синтаксис функции с переменным числом аргументов. Три точки используются в качестве префикса перед типом. 
```go
func main() {
    fmt.Println(add(1, 2, 3, 4, 5)) // 15
    fmt.Println(add(1, 454, 13))    // 468
}

func add(numbers ...int) int {
    sum := 0
    for _, v := range numbers {
        sum += v
    }
    return sum
}
```

Функция как метод. Метод имеет аргумент получателя. Когда вы присоединяете функцию к типу, эта функция становится методом для этого типа. Получатель может быть структурой или любым другим типом. Метод будет иметь доступ к свойствам получателя и может вызывать другие методы получателя. 
```go
// формат
func (receiver receiver_type) some_func_name(arguments) return_values
```

```go
package main

import "fmt"

type people struct {
    name string
    age  int
}

func (p people) print() {
    fmt.Println("Имя:", p.name)
    fmt.Println("Возраст:", p.age)
}

func main() {
    var anna = people{"anna", 45}
    anna.print()
}
```
Вывод:
```text
Имя: anna
Возраст: 45
```
